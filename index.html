<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle Mensal de Horas - RH</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
    <h1><i class="fas fa-calendar-alt"></i> Controle Mensal de Horas - RH</h1>

    <div class="topo">
        <div class="controle">
            <label for="mes"><i class="fas fa-calendar"></i> Mês:</label>
            <select id="mes"></select>
        </div>

        <div class="controle">
            <label for="ano"><i class="fas fa-calendar-day"></i> Ano:</label>
            <select id="ano"></select>
        </div>

        <div class="controle">
            <label for="salario"><i class="fas fa-money-bill-wave"></i> Salário (R$):</label>
            <input type="number" id="salario" placeholder="Ex: 2500" min="0" step="0.01">
        </div>

        <div class="controle">
            <label for="tema"><i class="fas fa-palette"></i> Tema:</label>
            <select id="tema">
                <option value="claro">Claro</option>
                <option value="escuro">Escuro</option>
                <option value="azul">Azul</option>
                <option value="verde">Verde</option>
            </select>
        </div>

        <div class="btn-container">
            <button onclick="gerarCalendario()" title="Criar calendário do mês selecionado">
                <i class="fas fa-calendar-plus"></i> Gerar Mês
            </button>
            <button onclick="preencherHorariosPadrao()" title="Preencher automaticamente 07:30-12:00 e 13:30-18:00 para dias úteis">
                <i class="fas fa-clock"></i> Preencher Horários
            </button>
            <button onclick="limparHorariosComModal()" title="Limpar todos os horários da tabela">
                <i class="fas fa-broom"></i> Limpar Horários
            </button>
            <button onclick="calcularMes()" title="Calcular totais do mês">
                <i class="fas fa-calculator"></i> Calcular Mês
            </button>
            <button onclick="exportarPDFMenu()" title="Exportar relatório para PDF">
                <i class="fas fa-file-pdf"></i> Exportar PDF
            </button>
            <button onclick="exportarParaCSV()" title="Exportar dados para CSV">
                <i class="fas fa-file-csv"></i> Exportar CSV
            </button>
            <button onclick="imprimirRelatorio()" title="Imprimir relatório">
                <i class="fas fa-print"></i> Imprimir
            </button>
            <button onclick="copiarResumo()" title="Copiar resumo para área de transferência">
                <i class="fas fa-copy"></i> Copiar Resumo
            </button>
        </div>
    </div>

    <div class="tabela-container">
        <table>
            <thead>
                <tr>
                    <th><i class="fas fa-calendar-day"></i> Data</th>
                    <th><i class="fas fa-calendar-week"></i> Dia</th>
                    <th><i class="fas fa-sign-in-alt"></i> Entrada</th>
                    <th><i class="fas fa-sign-out-alt"></i> Saída</th>
                    <th><i class="fas fa-sign-in-alt"></i> Entrada</th>
                    <th><i class="fas fa-sign-out-alt"></i> Saída</th>
                    <th><i class="fas fa-briefcase"></i> Trabalhado</th>
                    <th><i class="fas fa-piggy-bank"></i> Extra (Banco)</th>
                    <th><i class="fas fa-money-bill-wave"></i> Extra (Paga)</th>
                    <th><i class="fas fa-times-circle"></i> Falta</th>
                </tr>
            </thead>
            <tbody id="corpoTabela"></tbody>
        </table>
    </div>

    <div class="resumo">
        <h2><i class="fas fa-chart-bar"></i> Resumo Mensal</h2>
        <div class="resumo-grid">
            <div class="resumo-item">
                <span class="resumo-label">Total Trabalhado:</span>
                <span class="resumo-valor" id="totalHoras">0 h</span>
            </div>
            <div class="resumo-item">
                <span class="resumo-label">Extras Diárias (Banco):</span>
                <span class="resumo-valor" id="totalExtrasDiarias">0 h</span>
            </div>
            <div class="resumo-item">
                <span class="resumo-label">Extras Semanais (Pagas):</span>
                <span class="resumo-valor" id="totalExtrasSemanais">0 h</span>
            </div>
            <div class="resumo-item">
                <span class="resumo-label">Horas Faltantes:</span>
                <span class="resumo-valor" id="totalFaltas">0 h</span>
            </div>
            <div class="resumo-item">
                <span class="resumo-label">Valor Hora:</span>
                <span class="resumo-valor" id="valorHora">R$ 0.00</span>
            </div>
            <div class="resumo-item">
                <span class="resumo-label">Valor Extras (Pagas):</span>
                <span class="resumo-valor" id="valorExtras">R$ 0.00</span>
            </div>
            <div class="resumo-item">
                <span class="resumo-label">Descontos:</span>
                <span class="resumo-valor" id="valorDescontos">R$ 0.00</span>
            </div>
            <div class="resumo-item" style="grid-column: 1 / -1;">
                <span class="resumo-label">Total Líquido:</span>
                <span class="resumo-valor" id="totalLiquido">R$ 0.00</span>
            </div>
        </div>
    </div>

    <div class="legenda">
        <h3><i class="fas fa-info-circle"></i> Legenda e Informações</h3>
        <div class="legenda-grid">
            <div class="legenda-item">
                <span class="cor-indicador cor-domingo"></span>
                <span>DOMINGO - Dia não útil</span>
            </div>
            <div class="legenda-item">
                <span class="cor-indicador cor-sabado"></span>
                <span>SÁBADO - Dia útil com regras especiais</span>
            </div>
            <div class="legenda-item">
                <span class="cor-indicador cor-extra-banco"></span>
                <span>Extra (Banco) - Acima de 8h/dia</span>
            </div>
            <div class="legenda-item">
                <span class="cor-indicador cor-extra-paga"></span>
                <span>Extra (Paga) - Acima de 44h/semana</span>
            </div>
        </div>
        
        <div class="info-extra">
            <p><i class="fas fa-lightbulb"></i> <strong>Dicas Importantes:</strong></p>
            <p><i class="fas fa-arrow-right"></i> Para fins de semana, todo trabalho é considerado hora extra paga</p>
            <p><i class="fas fa-arrow-right"></i> Sistema calcula: 1h extra paga por semana (45h - 44h legais)</p>
            <p><i class="fas fa-arrow-right"></i> <strong>Botão "Preencher Horários":</strong> Preenche automaticamente 07:30-12:00 e 13:30-18:00 para dias úteis</p>
            <p><i class="fas fa-arrow-right"></i> <strong>Botão "Exportar PDF":</strong> Exporta relatório completo em formato PDF</p>
            <p><i class="fas fa-arrow-right"></i> <strong>Atalhos:</strong> Ctrl+G (Gerar), Ctrl+P (Preencher), Ctrl+C (Calcular), Ctrl+E (Exportar PDF)</p>
        </div>
    </div>
</div>

<!-- Bibliotecas para PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<!-- Módulos do Sistema -->
<script src="modules/utils.js"></script>
<script src="modules/calendario.js"></script>
<script src="modules/calculos.js"></script>
<script src="modules/interface.js"></script>
<script src="modules/exportacao.js"></script>

<!-- Script Principal -->
<script src="script.js" defer></script>

</body>
</html>